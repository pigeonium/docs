# コアコンセプト

このセクションでは、Pigeoniumプラットフォームを支える中心的な概念について詳しく解説します。

## 1\. ウォレット

ウォレットは、Pigeoniumネットワーク上で資産を管理するための基本的なツールです。

  * **生成**: ウォレットはECDSA（楕円曲線DSA）とNIST256p曲線に基づいた暗号技術を使用して生成されます。
  * **秘密鍵**: 資産を管理し、トランザクションに署名するための32バイトの秘密のキーです。**絶対に他人に知られてはいけません。**
  * **公開鍵**: 秘密鍵から派生する64バイトのキーで、トランザクションの署名を検証するために使用されます。 他人に公開しても安全です。
  * **アドレス**: 公開鍵をさらにハッシュ化（SHA3-256 -\> SHA3-256 -\> SHA3-512）して生成される16バイトの一意の識別子です。 資産の受け取りや、スマートコントラクトの場所を示すために使用されます。


## 2\. トランザクション

トランザクションは、Pigeoniumネットワーク上の状態を変更するための唯一の手段です。誰が、誰に、何を、どれだけ送ったかなどの情報が含まれています。

  * **主な構成要素**

      * `source`: 送信元アドレス
      * `dest`: 宛先アドレス
      * `currencyId`: 送信する通貨のID
      * `amount`: 送信量
      * `feeAmount`: 手数料
      * `inputData`: スマートコントラクトへの入力など、任意のデータ
      * `publicKey`: 送信者の公開鍵
      * `signature`: 送信者が秘密鍵で署名したデータ。 これにより、トランザクションが正当な所有者によって作成されたことが証明されます。取引がコントラクトによって作成されたものの場合は、空のデータになります。
      * `adminSignature`: ネットワークの管理者が署名したデータ。 これにより、トランザクションがネットワークに正式に記録されたことが証明されます。

  * **ライフサイクル**

    1.  ユーザーがトランザクションを作成し、秘密鍵で署名します。
    2.  APIサーバーに送信（ブロードキャスト）されます。
    3.  APIサーバーはトランザクションの正当性を検証し、管理署名を付与します。
    4.  トランザクションが実行され、残高などの状態が更新されます。
    5.  データベースに記録され、永続化されます。


## 3\. 通貨

Pigeoniumでは、2種類の通貨を扱うことができます。

  * **基軸通貨 "Pigeon"**

      * Pigeoniumネットワークのネイティブ通貨です。
      * スマートコントラクトのデプロイや実行時の手数料（ガス代）の支払いに使用されます。
      * ネットワークの創世（ジェネシス）時に発行されます。

  * **カスタム通貨**

      * スマートコントラクトを利用して、ユーザーが独自の通貨を発行できます。
      * `name`（名称）、`symbol`（シンボル）、`supply`（総供給量）などを定義できます。
      * 発行された通貨は、Pigeoniumネットワーク上でPigeonと同様に送受信が可能です。


## 4\. スマートコントラクト

スマートコントラクトは、Pigeoniumネットワーク上にデプロイされる自動実行プログラムです。 特定の条件が満たされたときに、あらかじめ定義されたロジックを実行します。

  * **言語**: Pigeoniumのスマートコントラクトは、Pythonで記述されます。
  * **アドレス**: デプロイされた各スマートコントラクトは、スクリプト自体のハッシュ値から計算される一意のアドレスを持ちます。
  * **実行**: ユーザーがスマートコントラクトのアドレス宛にトランザクションを送信すると、コントラクトが実行されます。 `inputData`フィールドを使って、コントラクトにデータを渡すことができます。
  * **機能**: コントラクトは、状態の読み書き（`getVariable`, `setVariable`）、通貨の転送（`transfer`）、新しい通貨の作成（`createCurrency`）、通貨の鋳造（`mint`）や焼却（`burn`）など、多彩な操作を実行できます。
  * **手数料**: コントラクトのデプロイ時と実行時には、計算リソースの消費に応じて基軸通貨Pigeonで手数料が徴収されます。
